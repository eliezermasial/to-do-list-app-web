
const input = document.querySelector('input')
const button = document.querySelector('button')
const form = document.querySelector('form')
const todoDataBase = []


function addTodo (){
    let value = input.value
    if (value.length) {
        todoDataBase.push(value)
        displayTodo(todoDataBase)
    }

    if(!value.length){
       return alert('veuillez saisir quelque chose')
    }
 
}

function displayTodo (todoList){
    todoList.map((todo)=>{
       const blockTodo = document.createElement('div')
       const hr = document.createElement('hr')
       const checkBox = document.createElement('input')
       const resultValue = document.createElement('p')
       const delette = document.createElement('button')

       resultValue.innerHTML = todo

       checkBox.type = 'checkBox'

       delette.style.background = 'red'
       delette.style.width = '30px'
       delette.style.height = '23px'
       delette.style.marginTop = '5px'
      
       blockTodo.style.display = 'flex'
       blockTodo.style.justifyContent = 'space-between'
       
       form.append(hr)
       blockTodo.append(checkBox)
       blockTodo.append(resultValue)
       blockTodo.append(delette)
       form.append(blockTodo)

    checkBox.addEventListener('click',(e)=>{
        if(checkBox.checked){
            resultValue.style.textDecoration = 'line-through'
        } else{
            resultValue.style.textDecoration = 'none'
        }
    })

    delette.addEventListener('click',(e)=>{
        e.preventDefault()

        return hr.remove(),
               blockTodo.remove();

         })
    
    }) 
    
}

button.addEventListener('click',addTodo)